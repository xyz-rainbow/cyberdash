"""Emoji Data Manager - categories, search, top-used"""

import json
from pathlib import Path
from typing import List, Dict


CATEGORIES = {
    "recent":     ("ðŸ•", "Recientes"),
    "smileys":    ("ðŸ˜€", "Caras"),
    "animals":    ("ðŸ¶", "Animales"),
    "food":       ("ðŸ•", "Comida"),
    "activities": ("âš½", "Actividades"),
    "travel":     ("âœˆï¸", "Viajes"),
    "objects":    ("ðŸ’¡", "Objetos"),
    "symbols":    ("â¤ï¸", "SÃ­mbolos"),
    "flags":      ("ðŸ³ï¸", "Banderas"),
}

EMOJI_DATA: Dict[str, List[str]] = {
    "smileys": [
        "ðŸ˜€","ðŸ˜ƒ","ðŸ˜„","ðŸ˜","ðŸ˜†","ðŸ˜…","ðŸ¤£","ðŸ˜‚","ðŸ™‚","ðŸ™ƒ","ðŸ˜‰","ðŸ˜Š","ðŸ˜‡",
        "ðŸ¥°","ðŸ˜","ðŸ¤©","ðŸ˜˜","ðŸ˜—","ðŸ˜š","ðŸ˜™","ðŸ¥²","ðŸ˜‹","ðŸ˜›","ðŸ˜œ","ðŸ¤ª","ðŸ˜",
        "ðŸ¤‘","ðŸ¤—","ðŸ¤­","ðŸ¤«","ðŸ¤”","ðŸ¤","ðŸ¤¨","ðŸ˜","ðŸ˜‘","ðŸ˜¶","ðŸ˜","ðŸ˜’","ðŸ™„",
        "ðŸ˜¬","ðŸ¤¥","ðŸ˜Œ","ðŸ˜”","ðŸ˜ª","ðŸ¤¤","ðŸ˜´","ðŸ˜·","ðŸ¤’","ðŸ¤•","ðŸ¤¢","ðŸ¤®","ðŸ¤§",
        "ðŸ¥µ","ðŸ¥¶","ðŸ¥´","ðŸ˜µ","ðŸ¤¯","ðŸ¤ ","ðŸ¥³","ðŸ¥¸","ðŸ˜Ž","ðŸ¤“","ðŸ§","ðŸ˜•","ðŸ˜Ÿ",
        "ðŸ™","â˜¹ï¸","ðŸ˜®","ðŸ˜¯","ðŸ˜²","ðŸ˜³","ðŸ¥º","ðŸ˜¦","ðŸ˜§","ðŸ˜¨","ðŸ˜°","ðŸ˜¥","ðŸ˜¢",
        "ðŸ˜­","ðŸ˜±","ðŸ˜–","ðŸ˜£","ðŸ˜ž","ðŸ˜“","ðŸ˜©","ðŸ˜«","ðŸ¥±","ðŸ˜¤","ðŸ˜¡","ðŸ˜ ","ðŸ¤¬",
        "ðŸ˜ˆ","ðŸ‘¿","ðŸ’€","â˜ ï¸","ðŸ’©","ðŸ¤¡","ðŸ‘¹","ðŸ‘º","ðŸ‘»","ðŸ‘½","ðŸ‘¾","ðŸ¤–",
        "ðŸ’‹","ðŸ’Œ","ðŸ’˜","ðŸ’","ðŸ’–","ðŸ’—","ðŸ’“","ðŸ’ž","ðŸ’•","ðŸ’Ÿ","â£ï¸","ðŸ’”",
        "â¤ï¸","ðŸ§¡","ðŸ’›","ðŸ’š","ðŸ’™","ðŸ’œ","ðŸ¤Ž","ðŸ–¤","ðŸ¤","ðŸ’¯","ðŸ’¢","ðŸ’¥",
        "ðŸ’«","ðŸ’¦","ðŸ’¨","ðŸ’¬","ðŸ’­","ðŸ’¤",
        "ðŸ‘‹","ðŸ¤š","ðŸ–ï¸","âœ‹","ðŸ––","ðŸ‘Œ","âœŒï¸","ðŸ¤ž","ðŸ¤Ÿ","ðŸ¤˜","ðŸ¤™",
        "ðŸ‘ˆ","ðŸ‘‰","ðŸ‘†","ðŸ‘‡","â˜ï¸","ðŸ‘","ðŸ‘Ž","âœŠ","ðŸ‘Š","ðŸ¤›","ðŸ¤œ",
        "ðŸ‘","ðŸ™Œ","ðŸ‘","ðŸ¤²","ðŸ¤","ðŸ™","ðŸ’ª","ðŸ‘€","ðŸ‘…","ðŸ‘„",
    ],
    "animals": [
        "ðŸ¶","ðŸ±","ðŸ­","ðŸ¹","ðŸ°","ðŸ¦Š","ðŸ»","ðŸ¼","ðŸ¨","ðŸ¯","ðŸ¦","ðŸ®",
        "ðŸ·","ðŸ¸","ðŸµ","ðŸ”","ðŸ§","ðŸ¦","ðŸ¦†","ðŸ¦…","ðŸ¦‰","ðŸ¦‡","ðŸº","ðŸ—",
        "ðŸ´","ðŸ¦„","ðŸ","ðŸ›","ðŸ¦‹","ðŸŒ","ðŸž","ðŸœ","ðŸ¦Ÿ","ðŸ¦—","ðŸ•·ï¸","ðŸ¦‚",
        "ðŸ¢","ðŸ","ðŸ¦Ž","ðŸ™","ðŸ¦‘","ðŸ¦","ðŸ¦€","ðŸ¡","ðŸ ","ðŸŸ","ðŸ¬","ðŸ³",
        "ðŸ‹","ðŸ¦ˆ","ðŸŠ","ðŸ…","ðŸ†","ðŸ¦“","ðŸ¦","ðŸ˜","ðŸ¦›","ðŸ¦","ðŸª","ðŸ«",
        "ðŸ¦’","ðŸ¦˜","ðŸƒ","ðŸ‚","ðŸ„","ðŸŽ","ðŸ–","ðŸ","ðŸ‘","ðŸ¦™","ðŸ","ðŸ¦Œ",
        "ðŸ•","ðŸ©","ðŸˆ","ðŸ“","ðŸ¦ƒ","ðŸ¦š","ðŸ¦œ","ðŸ¦¢","ðŸ•Šï¸","ðŸ‡","ðŸ¦","ðŸ¦¨",
        "ðŸ¦¡","ðŸ¦¦","ðŸ¦¥","ðŸ","ðŸ€","ðŸ¿ï¸","ðŸ¦”",
    ],
    "food": [
        "ðŸŽ","ðŸ","ðŸŠ","ðŸ‹","ðŸŒ","ðŸ‰","ðŸ‡","ðŸ“","ðŸ«","ðŸˆ","ðŸ’","ðŸ‘",
        "ðŸ¥­","ðŸ","ðŸ¥¥","ðŸ¥","ðŸ…","ðŸ†","ðŸ¥‘","ðŸ¥¦","ðŸ¥¬","ðŸ¥’","ðŸŒ¶ï¸","ðŸŒ½",
        "ðŸ¥•","ðŸ§„","ðŸ§…","ðŸ¥”","ðŸ ","ðŸ¥","ðŸ¥¯","ðŸž","ðŸ¥–","ðŸ¥¨","ðŸ§€","ðŸ¥š",
        "ðŸ³","ðŸ§ˆ","ðŸ¥ž","ðŸ§‡","ðŸ¥“","ðŸ¥©","ðŸ—","ðŸ–","ðŸŒ­","ðŸ”","ðŸŸ","ðŸ•",
        "ðŸ¥ª","ðŸ¥™","ðŸ§†","ðŸŒ®","ðŸŒ¯","ðŸ¥—","ðŸ¥˜","ðŸ","ðŸœ","ðŸ²","ðŸ›","ðŸ£",
        "ðŸ±","ðŸ¥Ÿ","ðŸ¦ª","ðŸ¤","ðŸ™","ðŸš","ðŸ˜","ðŸ¥","ðŸ¥ ","ðŸ¥®","ðŸ¢","ðŸ¡",
        "ðŸ§","ðŸ¨","ðŸ¦","ðŸ¥§","ðŸ§","ðŸ°","ðŸŽ‚","ðŸ®","ðŸ­","ðŸ¬","ðŸ«","ðŸ¿",
        "ðŸ©","ðŸª","ðŸŒ°","ðŸ¥œ","ðŸ¯","ðŸ¥›","â˜•","ðŸµ","ðŸ§ƒ","ðŸ¥¤","ðŸ§‹","ðŸº",
        "ðŸ»","ðŸ¥‚","ðŸ·","ðŸ¥ƒ","ðŸ¸","ðŸ¹","ðŸ§‰","ðŸ¾","ðŸ§Š",
    ],
    "activities": [
        "âš½","ðŸ€","ðŸˆ","âš¾","ðŸ¥Ž","ðŸŽ¾","ðŸ","ðŸ‰","ðŸŽ±","ðŸ“","ðŸ¸","ðŸ¥Š",
        "ðŸ¥‹","ðŸŽ½","ðŸ›¹","ðŸ›¼","ðŸ›·","â›¸ï¸","ðŸ¥Œ","ðŸŽ¿","â›·ï¸","ðŸ‚","ðŸª‚","ðŸ‹ï¸",
        "ðŸ¤¸","â›¹ï¸","ðŸ¤º","ðŸŒï¸","ðŸ‡","ðŸ§˜","ðŸ„","ðŸŠ","ðŸ¤½","ðŸš£","ðŸ§—","ðŸš´",
        "ðŸŽª","ðŸŽ­","ðŸŽ¨","ðŸŽ¬","ðŸŽ¤","ðŸŽ§","ðŸŽ¼","ðŸŽ¹","ðŸ¥","ðŸŽ·","ðŸŽº","ðŸŽ¸",
        "ðŸŽ»","ðŸŽ²","â™Ÿï¸","ðŸŽ¯","ðŸŽ³","ðŸŽ®","ðŸŽ°","ðŸ§©","ðŸ§¸","ðŸŽ","ðŸŽ€","ðŸŽŠ",
        "ðŸŽ‰","ðŸŽˆ","ðŸ®","ðŸŽ","ðŸŽŒ","ðŸª”",
    ],
    "travel": [
        "ðŸš—","ðŸš•","ðŸš™","ðŸšŒ","ðŸŽï¸","ðŸš“","ðŸš‘","ðŸš’","ðŸš","ðŸ›»","ðŸšš","ðŸš›",
        "ðŸšœ","ðŸï¸","ðŸ›µ","ðŸš²","ðŸ›´","ðŸš¨","ðŸš”","ðŸš","ðŸš˜","ðŸš–","ðŸš¡","ðŸš ",
        "ðŸšŸ","ðŸšƒ","ðŸš‹","ðŸšž","ðŸš","ðŸš„","ðŸš…","ðŸšˆ","ðŸš‚","ðŸš†","ðŸš‡","ðŸšŠ",
        "ðŸš‰","âœˆï¸","ðŸ›«","ðŸ›¬","ðŸ›©ï¸","ðŸ’º","ðŸ›°ï¸","ðŸš€","ðŸ›¸","ðŸš","ðŸ›¶","â›µ",
        "ðŸš¤","ðŸ›¥ï¸","ðŸ›³ï¸","ðŸš¢","âš“","ðŸ”ï¸","ðŸ—»","ðŸ•ï¸","ðŸ ","ðŸ¡","ðŸ˜ï¸","ðŸ—ï¸",
        "ðŸ­","ðŸ¢","ðŸ¬","ðŸ£","ðŸ¤","ðŸ¥","ðŸ¦","ðŸ¨","ðŸª","ðŸ«","ðŸ©","ðŸ’’",
        "ðŸ›ï¸","â›ª","ðŸ•Œ","ðŸ•","ðŸ›•","ðŸ•‹","â›©ï¸","ðŸ—ºï¸","ðŸ—¿","ðŸ—½","ðŸ—¼","ðŸ°",
        "ðŸ¯","ðŸŸï¸","ðŸŽ¡","ðŸŽ¢","â›²","ðŸ–ï¸","ðŸï¸","ðŸœï¸","ðŸŒ‹","â›°ï¸","ðŸ›¤ï¸","ðŸ›£ï¸",
    ],
    "objects": [
        "âŒš","ðŸ“±","ðŸ’»","âŒ¨ï¸","ðŸ–¥ï¸","ðŸ–¨ï¸","ðŸ–±ï¸","ðŸ•¹ï¸","ðŸ’½","ðŸ’¾","ðŸ’¿","ðŸ“€",
        "ðŸ“·","ðŸ“¸","ðŸ“¹","ðŸŽ¥","ðŸ“½ï¸","ðŸ“ž","â˜Žï¸","ðŸ“º","ðŸ“»","ðŸŽ™ï¸","ðŸŽšï¸","ðŸŽ›ï¸",
        "â±ï¸","â²ï¸","â°","ðŸ•°ï¸","âŒ›","â³","ðŸ“¡","ðŸ”‹","ðŸ”Œ","ðŸ’¡","ðŸ”¦","ðŸ•¯ï¸",
        "ðŸ§¯","ðŸ’¸","ðŸ’µ","ðŸ’°","ðŸ’³","ðŸ’Ž","âš–ï¸","ðŸªœ","ðŸ§°","ðŸª›","ðŸ”§","ðŸ”¨",
        "âš’ï¸","ðŸ› ï¸","â›ï¸","ðŸ”©","âš™ï¸","ðŸ§²","ðŸ’£","ðŸ§¨","ðŸ”ª","âš”ï¸","ðŸ›¡ï¸","ðŸ”®",
        "ðŸ“¿","ðŸ§¿","ðŸ’ˆ","âš—ï¸","ðŸ”­","ðŸ”¬","ðŸ’Š","ðŸ’‰","ðŸ©¸","ðŸ§¬","ðŸ§ª","ðŸŒ¡ï¸",
        "ðŸ§¹","ðŸ§º","ðŸ§»","ðŸš½","ðŸš°","ðŸš¿",
    ],
    "symbols": [
        "â¤ï¸","ðŸ§¡","ðŸ’›","ðŸ’š","ðŸ’™","ðŸ’œ","ðŸ–¤","ðŸ¤","ðŸ¤Ž","ðŸ’”","â£ï¸","ðŸ’•",
        "â˜®ï¸","âœï¸","â˜ªï¸","ðŸ•‰ï¸","â˜¸ï¸","âœ¡ï¸","â˜¯ï¸","â˜¦ï¸","ðŸ›","â›Ž","â™ˆ","â™‰",
        "â™Š","â™‹","â™Œ","â™","â™Ž","â™","â™","â™‘","â™’","â™“","â›”","ðŸ“›","ðŸš«",
        "ðŸ’¯","â™¨ï¸","ðŸš·","ðŸš¯","ðŸš³","ðŸš±","ðŸ”ž","ðŸ“µ","ðŸš­","â—","â•","â“",
        "â”","â€¼ï¸","â‰ï¸","âš ï¸","ðŸš¸","ðŸ”±","âšœï¸","ðŸ”°","â™»ï¸","âœ…","âŒ","âŽ",
        "ðŸŒ","ðŸ’ ","ðŸ”…","ðŸ”†","ã€½ï¸","â­•","ðŸ›‘","ðŸ“´","ðŸ“³","ðŸˆ¶","ðŸˆš","ðŸˆ¸",
        "ðŸˆº","ðŸˆ·ï¸","âœ´ï¸","ðŸ†š","ðŸ’®","ðŸ‰","ãŠ™ï¸","ãŠ—ï¸","ðŸˆ´","ðŸˆµ","ðŸˆ²","ðŸ…°ï¸",
        "ðŸ…±ï¸","ðŸ†Ž","ðŸ†‘","ðŸ…¾ï¸","ðŸ†˜","ðŸ”¤","ðŸ”¡","ðŸ”¢","ðŸ”£","ðŸ” ",
        "ðŸŽµ","ðŸŽ¶","ðŸŽ¼","ðŸ””","ðŸ”•","ðŸ”ˆ","ðŸ”‰","ðŸ”Š","ðŸ“¢","ðŸ“£","ðŸ“¯",
        "ðŸ”","ðŸ”‘","ðŸ—ï¸","ðŸ”’","ðŸ”“","ðŸšª","ðŸª‘","ðŸ›‹ï¸","ðŸ›ï¸","ðŸ›","ðŸªž",
    ],
    "flags": [
        "ðŸ³ï¸","ðŸ´","ðŸ´â€â˜ ï¸","ðŸ","ðŸš©","ðŸŽŒ","ðŸ³ï¸â€ðŸŒˆ","ðŸ³ï¸â€âš§ï¸",
        "ðŸ‡ºðŸ‡¸","ðŸ‡¬ðŸ‡§","ðŸ‡ªðŸ‡¸","ðŸ‡«ðŸ‡·","ðŸ‡©ðŸ‡ª","ðŸ‡®ðŸ‡¹","ðŸ‡µðŸ‡¹","ðŸ‡·ðŸ‡º",
        "ðŸ‡¯ðŸ‡µ","ðŸ‡°ðŸ‡·","ðŸ‡¨ðŸ‡³","ðŸ‡¦ðŸ‡ª","ðŸ‡¸ðŸ‡¦","ðŸ‡®ðŸ‡³","ðŸ‡§ðŸ‡·","ðŸ‡²ðŸ‡½",
        "ðŸ‡¨ðŸ‡¦","ðŸ‡¦ðŸ‡º","ðŸ‡¿ðŸ‡¦","ðŸ‡³ðŸ‡¬","ðŸ‡ªðŸ‡¬","ðŸ‡¹ðŸ‡·","ðŸ‡«ðŸ‡®","ðŸ‡¸ðŸ‡ª",
        "ðŸ‡³ðŸ‡´","ðŸ‡©ðŸ‡°","ðŸ‡³ðŸ‡±","ðŸ‡§ðŸ‡ª","ðŸ‡¨ðŸ‡­","ðŸ‡¦ðŸ‡¹","ðŸ‡µðŸ‡±","ðŸ‡¬ðŸ‡·",
        "ðŸ‡®ðŸ‡ª","ðŸ‡³ðŸ‡¿","ðŸ‡¦ðŸ‡·","ðŸ‡¨ðŸ‡´","ðŸ‡»ðŸ‡ª","ðŸ‡µðŸ‡ª","ðŸ‡¨ðŸ‡±","ðŸ‡ºðŸ‡¾",
        "ðŸ‡µðŸ‡­","ðŸ‡¸ðŸ‡¬","ðŸ‡²ðŸ‡¾","ðŸ‡¹ðŸ‡­","ðŸ‡»ðŸ‡³","ðŸ‡®ðŸ‡©","ðŸ‡µðŸ‡°","ðŸ‡§ðŸ‡©",
    ],
    "recent": [],
}

# Multilingual search index: emoji -> list of search terms
SEARCH_INDEX: Dict[str, List[str]] = {
    "ðŸ˜€": ["happy","smile","alegre","feliz","sourire","lÃ¤cheln"],
    "ðŸ˜‚": ["laugh","cry","lol","reÃ­r","llorar","gracioso","lachen","pleurer"],
    "ðŸ˜": ["love","heart eyes","enamorado","amor","amoureux","verliebt"],
    "ðŸ¥°": ["love","hearts","cariÃ±o","hearts","affection"],
    "ðŸ˜˜": ["kiss","beso","bisou","kuss"],
    "ðŸ¤”": ["think","hmm","pensar","penser","nachdenken"],
    "ðŸ˜Ž": ["cool","sunglasses","gafas","lunettes","brille"],
    "ðŸ˜­": ["cry","sad","llorar","triste","pleurer","weinen"],
    "ðŸ˜¡": ["angry","enojado","colÃ¨re","wÃ¼tend"],
    "ðŸ˜±": ["shock","scared","horror","asustado","scared"],
    "ðŸ¤£": ["laugh","rofl","jaja","rire","haha"],
    "ðŸ˜´": ["sleep","tired","dormir","sommeil","schlafen"],
    "ðŸ’€": ["skull","dead","muerto","mort","tot","lol"],
    "ðŸ”¥": ["fire","fuego","feu","feuer","lit","hot","caliente"],
    "ðŸ’¯": ["hundred","perfect","cien","perfecto","cent","hundert"],
    "â¤ï¸": ["heart","love","corazÃ³n","amor","coeur","herz"],
    "ðŸ’”": ["broken heart","heartbreak","desamor","coeur brisÃ©"],
    "ðŸ‘": ["thumbs up","like","ok","bien","j'aime","mag ich"],
    "ðŸ‘Ž": ["thumbs down","dislike","mal","j'aime pas"],
    "ðŸŽ‰": ["party","celebrate","fiesta","fÃªte","party","confetti"],
    "ðŸš€": ["rocket","launch","cohete","fusÃ©e","rakete"],
    "ðŸ’¡": ["idea","light","bombilla","ampoule","glÃ¼hbirne"],
    "âš ï¸": ["warning","alert","advertencia","avertissement","warnung"],
    "âœ…": ["check","done","ok","yes","hecho","sÃ­","fait","gemacht"],
    "âŒ": ["cancel","no","cross","error","nein","annuler"],
    "ðŸŽ®": ["game","gaming","juego","jeu","spiel"],
    "ðŸ’»": ["computer","laptop","ordenador","ordinateur"],
    "ðŸ“±": ["phone","mobile","telÃ©fono","tÃ©lÃ©phone"],
    "ðŸ¶": ["dog","perro","chien","hund"],
    "ðŸ±": ["cat","gato","chat","katze"],
    "ðŸ•": ["pizza","food","comida","nourriture"],
    "ðŸº": ["beer","cerveza","biÃ¨re","bier"],
    "â˜•": ["coffee","cafÃ©","Kaffee"],
    "ðŸŽµ": ["music","mÃºsica","musique","musik"],
    "ðŸ˜Š": ["smile","happy","sonrisa","sourire"],
    "ðŸ™": ["pray","thanks","gracias","merci","danke","please"],
    "ðŸ‘‹": ["wave","hello","hola","bonjour","hallo","bye"],
    "ðŸ’ª": ["strong","muscle","fuerza","force","kraft"],
    "ðŸ¤¦": ["facepalm","duh","omg"],
    "ðŸ¤·": ["shrug","dunno","idk","ni idea"],
    "ðŸ‘€": ["eyes","look","ver","ojos","regarder"],
    "ðŸ’¬": ["chat","message","mensaje","message","nachricht"],
    "ðŸŒ": ["earth","world","mundo","monde","welt"],
    "â­": ["star","estrella","Ã©toile","stern","favorite"],
    "ðŸŽ¯": ["target","goal","objetivo","cible","ziel"],
    "ðŸ”‘": ["key","llave","clÃ©","schlÃ¼ssel"],
    "ðŸ› ï¸": ["tools","fix","herramientas","outils","werkzeug"],
    "ðŸ“Š": ["chart","graph","grÃ¡fico","graphique","diagramm"],
    "ðŸ§ ": ["brain","smart","cerebro","cerveau","gehirn"],
    "ðŸ’°": ["money","dinero","argent","geld"],
    "ðŸ†": ["trophy","winner","trofeo","trophÃ©e","pokal"],
}


class EmojiDataManager:
    def __init__(self):
        self.config_dir = Path.home() / ".config" / "cyberdash"
        self.top_used_file = self.config_dir / "top_used.json"
        self.top_used: List[str] = []

    def load(self):
        self._load_top_used()

    def _load_top_used(self):
        if self.top_used_file.exists():
            try:
                with open(self.top_used_file, "r") as f:
                    data = json.load(f)
                    self.top_used = data.get("top", [])[:20]
            except Exception:
                self.top_used = []

    def save_top_used(self):
        self.config_dir.mkdir(parents=True, exist_ok=True)
        try:
            with open(self.top_used_file, "w") as f:
                json.dump({"top": self.top_used}, f)
        except Exception as e:
            print(f"Top used save error: {e}")

    def add_to_top_used(self, emoji: str):
        if emoji in self.top_used:
            self.top_used.remove(emoji)
        self.top_used.insert(0, emoji)
        self.top_used = self.top_used[:20]
        self.save_top_used()

    def get_top_used(self) -> List[str]:
        return list(self.top_used)

    def get_category_emojis(self, category: str) -> List[str]:
        if category == "recent":
            return list(self.top_used) if self.top_used else EMOJI_DATA["smileys"][:30]
        return EMOJI_DATA.get(category, [])

    def search(self, query: str) -> List[str]:
        if not query:
            return []
        q = query.lower().strip()
        results = []
        seen = set()

        # Search by keyword index
        for emoji, terms in SEARCH_INDEX.items():
            for term in terms:
                if q in term or term.startswith(q):
                    if emoji not in seen:
                        results.append(emoji)
                        seen.add(emoji)
                    break

        # Also search emoji char itself (paste an emoji to find it)
        if q in SEARCH_INDEX and q not in seen:
            results.insert(0, q)

        # Fallback: search all emojis in all categories by name match
        if len(results) < 5:
            for cat_emojis in EMOJI_DATA.values():
                for emoji in cat_emojis:
                    if emoji not in seen and q in emoji:
                        results.append(emoji)
                        seen.add(emoji)

        return results[:60]

    @staticmethod
    def get_categories() -> Dict[str, tuple]:
        return CATEGORIES
